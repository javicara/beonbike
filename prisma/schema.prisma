// Prisma schema for BeonBikes
// https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

// Contactos del formulario de contacto
model Contact {
  id        String   @id @default(cuid())
  name      String
  email     String
  phone     String?
  subject   String
  message   String
  createdAt DateTime @default(now())

  @@map("contacts")
}

// Reservas de tours
model TourBooking {
  id            String   @id @default(cuid())
  tourType      String   // hinterland, coastal, etc.
  date          DateTime
  participants  Int
  name          String
  email         String
  phone         String
  notes         String?
  status        String   @default("pending") // pending, confirmed, cancelled
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("tour_bookings")
}

// Reservas de alquiler Backpacker
model RentalBooking {
  id          String   @id @default(cuid())
  bikeType    String   @default("backpacker") // backpacker, daily, weekly
  startDate   DateTime
  endDate     DateTime
  weeks       Int      // número de semanas
  fullName    String   // nombre completo
  documentId  String   // DNI o pasaporte
  address     String   // domicilio
  email       String
  phone       String?
  notes       String?
  status      String   @default("pending") // pending, confirmed, cancelled
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("rental_bookings")
}

// Solicitudes de conversión
model ConversionRequest {
  id          String   @id @default(cuid())
  bikeDetails String
  motorType   String?  // mid-drive, hub, etc.
  name        String
  email       String
  phone       String
  message     String?
  status      String   @default("pending")
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("conversion_requests")
}
